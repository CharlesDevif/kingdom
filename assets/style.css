/*
  ┌─────────────────────────────────────────────────────────────┐
  │  Archives du Châteaux — Style & Subtle Sigils               │
  │  Psst: certains emblèmes n'apparaissent qu'à qui les cherche │
  └─────────────────────────────────────────────────────────────┘

  Hints for the curious:
  - robots.txt whispers of .well-known/
  - crowns reveal doors; targets unlock donjons
  - selection lights runes
*/

:root{
  --bg: #f6f7fb;
  --text: #222;
  --muted: #6b7280;
  --card: #ffffff;
  --primary: #3b82f6;
  --primary-600: #2563eb;
  --ring: rgba(37,99,235,.35);
  --shadow: 0 8px 30px rgba(0,0,0,.10);
  --radius: 16px;
}

@media (prefers-color-scheme: dark) {
  :root{
    --bg: #0b1020;
    --text: #e6e7ef;
    --muted: #9aa1b5;
    --card: #0f162e;
    --primary: #8ab4ff;
    --primary-600: #79a6ff;
    --ring: rgba(138,180,255,.35);
    --shadow: 0 10px 40px rgba(0,0,0,.45);
  }
}

html, body { margin:0; padding:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; background:var(--bg); color:var(--text); }

.header {
  color:#fff;
  padding:28px 16px 40px;
  text-align:center;
  position:relative;
  background:
    radial-gradient(1200px 300px at 50% -30%, rgba(255,255,255,.15), transparent 60%),
    linear-gradient(135deg, #0f172a, #1f2937 55%, #0f172a);
  box-shadow: inset 0 -1px 0 rgba(255,255,255,.06);
}
.header h1 { margin:0 0 6px; letter-spacing:.3px; }
.header p { margin:0; color:rgba(255,255,255,.75); }

.container { max-width:860px; margin:-28px auto 32px; padding:0 16px; }

.card { background:var(--card); border-radius:var(--radius); box-shadow:var(--shadow); padding:24px; border:1px solid rgba(0,0,0,.04); }
.card + .card { margin-top:18px; }
.card:hover { transform: translateY(-1px); transition: transform .15s ease; }

.btn { display:inline-block; padding:10px 16px; border-radius:10px; text-decoration:none; background:var(--primary); color:#0b1020; border:0; cursor:pointer; margin-right:8px; font-weight:600; box-shadow: 0 2px 8px rgba(59,130,246,.25); }
.btn:hover { background:var(--primary-600); color:#07101f; }
.btn:focus { outline: none; box-shadow: 0 0 0 4px var(--ring); }
.btn.secondary { background:var(--muted); color:#fff; box-shadow:none; }

.field { display:flex; flex-direction:column; gap:6px; margin-bottom:12px; }
label { font-weight:600; }
input { padding:10px 12px; border:1px solid #e5e7eb; border-radius:10px; background:transparent; color:inherit; }
input:focus { outline:none; box-shadow: 0 0 0 4px var(--ring); border-color: transparent; }

.pre { background:#0b1020; color:#c7d2fe; padding:16px; border-radius:12px; overflow:auto; border:1px solid rgba(255,255,255,.05); }
.footer { text-align:center; color:#666; padding:24px; }
.msg { margin-top:10px; font-size:14px; color:var(--text); }

/* Crown easter egg trigger */
.crown {
  position:absolute; right:14px; top:14px; text-decoration:none; font-size:18px; line-height:1; opacity:.18; transition:opacity .2s ease, transform .2s ease; filter: drop-shadow(0 2px 0 rgba(0,0,0,.2));
}
.crown:hover { opacity:.9; transform: translateY(-1px) scale(1.05); }

/* Secret card toggled via #donjon :target */
.secret { display:none; }
#donjon:target { display:block; animation: fadeIn .28s ease both; }
@keyframes fadeIn { from { opacity:0; transform: translateY(4px) } to { opacity:1; transform:none } }

/* Runes: barely visible until selected */
.runes { user-select:text; color: rgba(0,0,0,.05); letter-spacing: .08em; font-size:12px; }
.runes::selection { background: gold; color: #111; }

/* Site nav */
.nav { display:flex; gap:14px; align-items:center; justify-content:center; padding:10px 12px; background: rgba(255,255,255,.5); backdrop-filter: blur(6px); border-bottom:1px solid rgba(0,0,0,.06); }
.nav a { color: inherit; text-decoration:none; padding:8px 10px; border-radius:8px; font-weight:600; }
.nav a:hover, .nav a.active { background: rgba(37,99,235,.12); color: var(--primary-600); }

/* Hero */
.hero { position:relative; height: 320px; display:grid; place-items:end center; color:#fff; overflow:hidden; border-bottom:1px solid rgba(255,255,255,.1); }
.hero::before { content:""; position:absolute; inset:0; background: linear-gradient(180deg, rgba(0,0,0,.15), rgba(0,0,0,.5) 60%, rgba(0,0,0,.85)); z-index:0; }
.hero::after { content:""; position:absolute; inset:-2px; background: var(--hero, none) center/cover no-repeat; filter: saturate(1.05) contrast(1.05); z-index:-1; }
.hero-inner { position:relative; padding:32px 16px; width:100%; max-width:860px; }
.hero h2 { margin:0 0 8px; text-shadow: 0 2px 12px rgba(0,0,0,.55); }
.lead { color: rgba(255,255,255,.92); margin:0; text-shadow: 0 1px 6px rgba(0,0,0,.5); }

/* Grid & gallery */
.grid { display:grid; gap:16px; }
@media (min-width: 640px){ .grid.cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); } }
@media (min-width: 880px){ .grid.cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); } }
.figure { border-radius:14px; overflow:hidden; background: #0f162e; border:1px solid rgba(255,255,255,.06); box-shadow: var(--shadow); }
.figure img { width:100%; height:220px; object-fit:cover; display:block; }
.caption { padding:10px 12px; color: #e5e7eb; background: linear-gradient(180deg, rgba(15,22,46,.2), rgba(15,22,46,.6)); font-size:14px; }

/* Columns */
.columns { display:grid; gap:18px; }
@media (min-width: 860px){ .columns { grid-template-columns: 2fr 1fr; } }
.col { background: var(--card); border-radius: var(--radius); padding:18px; box-shadow: var(--shadow); border:1px solid rgba(0,0,0,.05); }

.badge { display:inline-block; padding:4px 8px; border-radius:999px; background: rgba(37,99,235,.12); color: var(--primary-600); font-weight:700; letter-spacing:.02em; font-size:12px; }
